<html>
    <header>
        <script src="./jq/jquery.js"></script>
        <script src="./chn_charCode_qq.json.js"></script>
        <script src="./chn_charCode_jinwen.json.js"></script>
        <style>
            .hili{
                background-color: red;
            }
        </style>
        <script>
            $(()=>{
                gen_tab()
            })
            function gen_tab(){
                var trs=""
                var charCodes = Object.keys(chn_charCode_qq)
                charCodes.forEach(function(cod,idx){
                    var src=`./qq_jinwen/${cod}.png`
                    var char = String.fromCharCode(cod)
                    trs+=`<tr><td>${idx}</td><td class='charcod'>${cod}</td><td>${char}</td><td><img src='${src}'/></td><tr>`
                })
                $("#tb tbody").html(trs)
                $(".charcod").each(function(){
                     var cod = $(this).text().trim()
                     if(chn_charCode_jinwen[cod]){
                        $(this).addClass("hili")
                     }
                })
                $(".charcod").on("click",function(){
                    $(this).toggleClass("hili")
                })
                $(".charcod").on("mouseenter",function(evt){
                    if(evt.shiftKey){
                        $(this).toggleClass("hili")
                    }
                })
                $("#txa").on("click",function(){
                    var obj={}
                    $(".hili").each(function(){
                        var cod = $(this).text().trim()
                        obj[cod] = String.fromCharCode(cod)
                    })
                    var str=JSON.stringify(obj,null,4)
                    $(this).val(`var chn_charCode_jinwen = \n ${str}`)
                })
            }
        </script>
    </header>
    <body>
        <a href="../../../../jinwen_tmp/丕纰砒邳铍皮疲啤脾.html"></a>
        <table border="1" id="tb">
            <tbody>

            </tbody>
        </table>
        <textarea id="txa"></textarea>
    </body>
</html>